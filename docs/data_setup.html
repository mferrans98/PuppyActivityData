<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>data_setup.knit</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Puppy Activity Data</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="code.html">Full Code</a>
</li>
<li>
  <a href="activitycountgraphs.html">Activity Graphs</a>
</li>
<li>
  <a href="meandeviancegraphs.html">Mean Deviance Activity Graphs</a>
</li>
<li>
  <a href="sleepdata.html">Sleep</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<p>ACTIVITY MONITOR DATA (Updated 20211102)</p>
<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE, 
                        eval = FALSE)</code></pre>
<div id="data-setup" class="section level2">
<h2>#DATA SETUP</h2>
<p>Load packages and import data</p>
<pre class="r"><code>library(readxl)    
library(tidyverse)
library(dplyr)
library(clock)
library(lubridate)
library(hms)
library(ggplot2)
load(file = &quot;activitygraphsenv.RData&quot;)</code></pre>
<pre class="r"><code>##IMPORT the data
setwd(&#39;~/Desktop&#39;)
sheets &lt;- readxl::excel_sheets(&#39;puppies2.xlsx&#39;)
activity_df &lt;- do.call(rbind, lapply(sheets, function(X) transform(readxl::read_excel(&#39;puppies2.xlsx&#39;, sheet = X), sheetname = X)))
activity_df&lt;-activity_df %&gt;% mutate(time=as_hms(activity_df$Time)) %&gt;% na.omit() %&gt;%  select(-sheetname,-Time)
activity_df$Date &lt;- as.Date(activity_df$Date, format= &quot;%Y-%m-%d&quot;)</code></pre>
<p>Removing dates where collar is off</p>
<pre class="r"><code>#removing dates where collar is off
  #Anya
filtered_dates &lt;- activity_df[!(activity_df$Dog.name == &quot;Anya&quot; &amp; activity_df$Date &lt; &quot;2019-10-02&quot;)&amp;!(activity_df$Dog.name == &quot;Anya&quot; &amp; activity_df$Date == &quot;2019-10-16&quot;)&amp;!(activity_df$Dog.name == &quot;Anya&quot; &amp; activity_df$Date &gt; &quot;2020-11-18&quot;),]
  #Aries
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Aries&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Aries&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Aries&quot; &amp; filtered_dates$Date &gt; &quot;2020-11-18&quot;),]
  #Weston
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Weston&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Weston&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Weston&quot; &amp; filtered_dates$Date &gt; &quot;2020-11-18&quot;),]
  #Ying
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Ying&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Ying&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Ying&quot; &amp; filtered_dates$Date &gt; &quot;2020-11-18&quot;),]
  #Yolanda
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Yolanda&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Yolanda&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Yolanda&quot; &amp; filtered_dates$Date &gt; &quot;2019-11-18&quot;),]
  #Zax
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Zax&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zax&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zax&quot; &amp; filtered_dates$Date &gt; &quot;2019-11-18&quot;),]
  #Zina
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Zina&quot; &amp; filtered_dates$Date &lt; &quot;2019-10-02&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zina&quot; &amp; filtered_dates$Date == &quot;2019-10-16&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zina&quot; &amp; filtered_dates$Date &gt; &quot;2019-11-18&quot;),]
  #Arthur
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Arthur&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Arthur&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Aurora
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Aurora&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Aurora&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Westley
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Westley&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-01&quot;)&amp;!(filtered_dates$Dog.name == &quot;Westley&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Wisdom
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Wisdom&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-01&quot;)&amp;!(filtered_dates$Dog.name == &quot;Wisdom&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Yonder
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Yonder&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Yonder&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Zindel
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Zindel&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zindel&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Zola
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Zola&quot; &amp; filtered_dates$Date &lt; &quot;2020-2-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Zola&quot; &amp; filtered_dates$Date &gt; &quot;2020-03-10&quot;),]
  #Barley
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Barley&quot; &amp; filtered_dates$Date &lt; &quot;2020-8-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Barley&quot; &amp; filtered_dates$Date &gt; &quot;2020-09-30&quot;),]
  #Kristoff
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Kristoff&quot; &amp; filtered_dates$Date &lt; &quot;2020-07-24&quot;)&amp;!(filtered_dates$Dog.name == &quot;Kristoff&quot; &amp; filtered_dates$Date &gt; &quot;2020-09-22&quot;),]
  #Sparky
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Sparky&quot; &amp; filtered_dates$Date &lt; &quot;2020-10-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Sparky&quot; &amp; filtered_dates$Date &gt; &quot;2020-12-15&quot;),]
  #Sassy
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Sassy&quot; &amp; filtered_dates$Date &lt; &quot;2020-10-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Sassy&quot; &amp; filtered_dates$Date &gt; &quot;2020-12-14&quot;),]
  #Stanley
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Stanley&quot; &amp; filtered_dates$Date &lt; &quot;2020-10-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Stanley&quot; &amp; filtered_dates$Date &gt; &quot;2020-12-15&quot;),]
  #Rainbow
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Rainbow&quot; &amp; filtered_dates$Date &lt; &quot;2020-10-08&quot;)&amp;!(filtered_dates$Dog.name == &quot;Rainbow&quot; &amp; filtered_dates$Date &gt; &quot;2020-12-07&quot;),]
  #Jack
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Jack&quot; &amp; filtered_dates$Date &lt; &quot;2021-02-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Jack&quot; &amp; filtered_dates$Date &gt; &quot;2021-04-19&quot;),]
  #Lily
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Lily&quot; &amp; filtered_dates$Date &lt; &quot;2021-2-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Lily&quot; &amp; filtered_dates$Date &gt; &quot;2021-04-20&quot;),]
  #Leo
filtered_dates &lt;- filtered_dates[!(filtered_dates$Dog.name == &quot;Leo&quot; &amp; filtered_dates$Date &lt; &quot;2021-2-06&quot;)&amp;!(filtered_dates$Dog.name == &quot;Leo&quot; &amp; filtered_dates$Date &gt; &quot;2021-04-19&quot;),]</code></pre>
<p>Rename columns</p>
<pre class="r"><code>#renamecolumns
filtered_dates&lt;-rename(filtered_dates, &quot;name&quot;=Dog.name)
filtered_dates&lt;-rename(filtered_dates, activity_counts=&quot;Activity.Data&quot;)</code></pre>
<p>Delete sleeping hours (10pm-8am)</p>
<pre class="r"><code>#delete sleeping hours (10pm-8am)
filtered_datetime&lt;- filtered_dates %&gt;% filter(hour(time)&gt;7)
filtered_datetime&lt;- filtered_datetime %&gt;% filter(hour(time)&lt;23)</code></pre>
<p>Adding DOB, weeks old, rearing (home vs DPK), &amp; sex columns</p>
<pre class="r"><code>#addingDOB
newdf&lt;-filtered_datetime %&gt;% mutate(DOB =
                     case_when(name == &quot;Anya&quot; ~ &quot;2019-06-29&quot;,
                               name == &quot;Aries&quot; ~ &quot;2019-06-29&quot;,
                                name == &quot;Weston&quot; ~ &quot;2019-06-26&quot;,
                                name == &quot;Ying&quot; ~ &quot;2019-06-27&quot;,
                                name == &quot;Yolanda&quot; ~ &quot;2019-06-27&quot;,
                                name == &quot;Zina&quot; ~ &quot;2019-06-28&quot;,
                                name == &quot;Zax&quot; ~ &quot;2019-06-28&quot;,
                                name == &quot;Arthur&quot; ~ &quot;2019-12-12&quot;,
                                name == &quot;Aurora&quot; ~ &quot;2019-12-12&quot;,
                                name == &quot;Westley&quot; ~ &quot;2019-12-06&quot;,
                                name == &quot;Wisdom&quot; ~ &quot;2019-12-06&quot;,
                                name == &quot;Yonder&quot; ~ &quot;2019-12-11&quot;,
                                name == &quot;Zola&quot; ~ &quot;2019-12-11&quot;,
                                name == &quot;Zindel&quot; ~ &quot;2019-12-11&quot;,
                                name == &quot;Kristoff&quot; ~ &quot;2020-05-05&quot;,
                                name == &quot;Barley&quot; ~ &quot;2020-05-06&quot;,
                                name == &quot;Rainbow&quot; ~ &quot;2020-08-02&quot;,
                                name == &quot;Sassy&quot; ~ &quot;2020-08-12&quot;,
                                name == &quot;Sparky&quot; ~ &quot;2020-08-12&quot;,
                                name == &quot;Stanley&quot; ~ &quot;2020-08-12&quot;,
                                name == &quot;Lily&quot; ~ &quot;2020-12-11&quot;,
                                name == &quot;Leo&quot; ~ &quot;2020-12-11&quot;,
                                name == &quot;Jack&quot; ~ &quot;2020-12-11&quot;))
#make DOB in date format
newdf$DOB &lt;- as.Date(newdf$DOB, format= &quot;%Y-%m-%d&quot;)

# exact weeks / age column
newdf&lt;-newdf %&gt;% mutate(exactage =
                       difftime(Date, DOB, units=&quot;weeks&quot;))
#make weeks old column (rounded)
newdf&lt;-newdf%&gt;% mutate(weeksold =
                         case_when(exactage &gt;= 8 &amp; exactage &lt; 9 ~8,
                                   exactage &gt;= 9 &amp; exactage &lt; 10 ~9,
                                   exactage &gt;= 10 &amp; exactage &lt; 11 ~10,
                                   exactage &gt;= 11 &amp; exactage &lt; 12 ~11,
                                   exactage &gt;= 12 &amp; exactage &lt; 13 ~12,
                                   exactage &gt;= 13 &amp; exactage &lt; 14 ~13,
                                   exactage &gt;= 14 &amp; exactage &lt; 15 ~14,
                                   exactage &gt;= 15 &amp; exactage &lt; 16 ~15,
                                   exactage &gt;= 16 &amp; exactage &lt; 17 ~16,
                                   exactage &gt;= 17 &amp; exactage &lt; 18 ~17,
                                   exactage &gt;= 18 &amp; exactage &lt; 19 ~18,
                                   exactage &gt;= 19 &amp; exactage &lt; 20 ~19,
                                   exactage &gt;= 20 ~20,)) 

#adding rearing column (home based vs. DPK) 
#note: Spring 2020 puppies are &quot;home-based&quot; from 8-10 weeks
newdf&lt;-newdf %&gt;% mutate(rearing =
                          case_when(name == &quot;Anya&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Aries&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Weston&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Ying&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Yolanda&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zina&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zax&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Arthur&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Arthur&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Aurora&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Aurora&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Westley&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Westley&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Wisdom&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Wisdom&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Yonder&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Yonder&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zindel&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Zindel&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zola&quot; &amp; Date &lt;&quot;2020-02-17&quot;  ~ &quot;home&quot;,
                                    name == &quot;Zola&quot; &amp; Date &gt;=&quot;2020-02-17&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Kristoff&quot; ~ &quot;home&quot;,
                                    name == &quot;Barley&quot; ~ &quot;home&quot;,
                                    name == &quot;Rainbow&quot; ~ &quot;home&quot;,
                                    name == &quot;Sassy&quot; ~ &quot;home&quot;,
                                    name == &quot;Sparky&quot; ~ &quot;home&quot;,
                                    name == &quot;Stanley&quot; ~ &quot;home&quot;,
                                    name == &quot;Lily&quot; ~ &quot;home&quot;,
                                    name == &quot;Leo&quot; ~ &quot;home&quot;,
                                    name == &quot;Jack&quot; ~ &quot;home&quot;))
#adding sex column 
newdf&lt;-newdf %&gt;% mutate(sex =
                          case_when(name == &quot;Anya&quot; ~ &quot;F&quot;,
                                    name == &quot;Aries&quot; ~ &quot;M&quot;,
                                    name == &quot;Weston&quot; ~ &quot;M&quot;,
                                    name == &quot;Ying&quot; ~ &quot;M&quot;,
                                    name == &quot;Yolanda&quot; ~ &quot;F&quot;,
                                    name == &quot;Zina&quot; ~ &quot;F&quot;,
                                    name == &quot;Zax&quot; ~ &quot;M&quot;,
                                    name == &quot;Arthur&quot; ~ &quot;M&quot;,
                                    name == &quot;Aurora&quot; ~ &quot;F&quot;,
                                    name == &quot;Westley&quot; ~ &quot;M&quot;,
                                    name == &quot;Wisdom&quot; ~ &quot;F&quot;,
                                    name == &quot;Yonder&quot; ~ &quot;F&quot;,
                                    name == &quot;Zola&quot; ~ &quot;F&quot;,
                                    name == &quot;Zindel&quot; ~ &quot;M&quot;,
                                    name == &quot;Kristoff&quot; ~ &quot;M&quot;,
                                    name == &quot;Barley&quot; ~ &quot;M&quot;,
                                    name == &quot;Rainbow&quot; ~ &quot;F&quot;,
                                    name == &quot;Sassy&quot; ~ &quot;F&quot;,
                                    name == &quot;Sparky&quot; ~ &quot;M&quot;,
                                    name == &quot;Stanley&quot; ~ &quot;M&quot;,
                                    name == &quot;Lily&quot; ~ &quot;F&quot;,
                                    name == &quot;Leo&quot; ~ &quot;M&quot;,
                                    name == &quot;Jack&quot; ~ &quot;M&quot;))</code></pre>
<p>Make hour column</p>
<pre class="r"><code>newdf&lt;-newdf %&gt;% mutate(hour=
                         (hour(time)))</code></pre>
<p>Make combined column for date and time</p>
<pre class="r"><code>newdf &lt;- newdf %&gt;% mutate(datetime=as.POSIXct(paste(Date,time), format=&quot;%Y-%m-%d %H:%M:%S&quot;))</code></pre>
<p>Create 5 minute intervals labels</p>
<pre class="r"><code>newdf &lt;- newdf %&gt;% mutate(interval=cut(newdf$datetime, breaks = &quot;5 min&quot;))
newdf &lt;- newdf %&gt;% mutate(intervaltime=as.POSIXct(newdf$interval))
newdf &lt;- newdf %&gt;% mutate(intervaltime=format(newdf$interval, format = &quot;%H:%M:%S&quot;))

#turn interval into datetime class
newdf$intervaltime2&lt;-strptime(newdf$intervaltime, format=&#39;%Y-%m-%d %H:%M:%S&#39;)

#make column &quot;intervaltime&quot; just for interval time
newdf$intervaltime&lt;-strftime(newdf$intervaltime2, &#39;%H:%M&#39;)</code></pre>
<p>For each puppy, find an average of activity for each 5 minute interval (make one mean activity count for each interval)</p>
<pre class="r"><code>intervaldf&lt;-newdf %&gt;% 
     group_by(intervaltime,weeksold,name,rearing,sex) %&gt;% 
   summarise(interval_avg_activity=mean(activity_counts))

intervaldf2&lt;-newdf %&gt;% 
     group_by(intervaltime,Date,weeksold,name,rearing,sex) %&gt;% 
   summarise(interval_avg_activity=mean(activity_counts))</code></pre>
<p>Deviance from weekly means (for each puppy) for each (5 min interval) data point (creates indiv_weekly_dev df)</p>
<pre class="r"><code>#means for each puppy for each week of age
weeklymeanforage_bypuppy&lt;-intervaldf %&gt;% group_by(name, weeksold) %&gt;% 
  summarize(&quot;weeklymeanforage_bypuppy&quot;=mean(interval_avg_activity), N=n()) 
# merge two data frames: weekly mean for each puppy and hourly mean
#places each weekly mean next to its corresponding interval data point
indiv_weekly_dev&lt;- merge(intervaldf,weeklymeanforage_bypuppy,by=c(&quot;name&quot;,&quot;weeksold&quot;))
#deviance from the weekly mean (for each puppy) for each (5 min interval) data point 
indiv_weekly_dev&lt;-indiv_weekly_dev %&gt;% mutate(meandeviance=(interval_avg_activity-weeklymeanforage_bypuppy))</code></pre>
<p>Find an average of activity for each week for each 5 minute interval (make one mean activity count for each interval) (not by puppy, for the entire group)</p>
<pre class="r"><code>weeklyintervaldf&lt;-indiv_weekly_dev %&gt;% 
     group_by(intervaltime,weeksold) %&gt;% 
   summarise(interval_avg_deviance=mean(meandeviance),
             interval_weekly_avg=mean(interval_avg_activity))</code></pre>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th>#PLOTTING ACTIVITY Setup</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Store weeks old as a factor</td>
</tr>
<tr class="even">
<td><code>r weeklyintervaldf$weeksold&lt;-as.factor(weeklyintervaldf$weeksold) indiv_weekly_dev$weeksold&lt;-as.factor(indiv_weekly_dev$weeksold)</code> List of desired hourly time breaks for graph x axis tick marks</td>
</tr>
<tr class="odd">
<td><code>r hours_list&lt;-c("08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00")</code></td>
</tr>
<tr class="even">
<td>#MEAN DEVIANCE GRAPHS</td>
</tr>
</tbody>
</table>
<p>INDIVIDUAL GRAPHS FOR 1 INDIVIDUAL PUPPY FOR 1 INDIVIDUAL WEEK</p>
<pre class="r"><code>#Leo, 8 weeks
ggplot(subset(indiv_weekly_dev,weeksold==&quot;8&quot; &amp; name==&quot;Leo&quot;), aes(x=intervaltime, y=meandeviance, group=1)) + ylim(-500,2500) + geom_line() + ggtitle(&quot;Leo: 8 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) +
  scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPH OF MEAN DEVIANCE (GROUPED BY PUPPY) FOR 1 SPECIFIC WEEK</p>
<pre class="r"><code>ggplot(subset(indiv_weekly_dev,weeksold==&quot;8&quot;), aes(x=intervaltime, y=meandeviance, group=&#39;name&#39;)) + geom_line(aes(colour=name)) + ggtitle(&quot;Mean Deviance: 8 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Deviance&quot;) + labs(colour = &quot;Puppy&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>COMPARE TWO PUPPIES’ MEAN DEVIANCE FOR 1 SPECIFIC WEEK</p>
<pre class="r"><code>ggplot(subset(indiv_weekly_dev,name==&quot;Rainbow&quot;&amp;weeksold==12|name==&quot;Stanley&quot;&amp;weeksold==12), aes(x=intervaltime, y=meandeviance, group=name)) + geom_line(aes(colour=name)) + ggtitle(&quot;Mean Deviance: 12 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Deviance&quot;) + labs(colour = &quot;Puppy&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GROUP AVG FOR 1 INDIVIDUAL WEEK</p>
<pre class="r"><code>#8 weeks
ggplot(subset(weeklyintervaldf,weeksold==&quot;8&quot;), aes(x=intervaltime, y=interval_avg_deviance, group=1)) + geom_line() + ggtitle(&quot;Group: 8 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF ALL WEEKS OVERLAID (USING ENTIRE GROUP MEAN DEVIANCE)</p>
<pre class="r"><code>ggplot(weeklyintervaldf, aes(x=intervaltime, y=interval_avg_deviance, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8-20 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF ALL WEEKS FOR 1 INDIVIDUAL PUPPY</p>
<pre class="r"><code>ggplot(subset(indiv_weekly_dev,name==&quot;Rainbow&quot;), aes(x=intervaltime, y=meandeviance, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Rainbow: 8-20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF GROUP DEVIANCE: 8 VS 20 WEEKS</p>
<pre class="r"><code>ggplot((subset(weeklyintervaldf,weeksold==&quot;8&quot; | weeksold==&quot;20&quot;)), aes(x=intervaltime, y=interval_avg_deviance, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8 vs. 20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Activity Counts (mean deviance)&quot;) +ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF GROUP DEVIANCE: 8, 14, &amp; 20 WEEKS</p>
<pre class="r"><code>ggplot((subset(weeklyintervaldf,weeksold==&quot;8&quot; | weeksold==&quot;14&quot;| weeksold==&quot;20&quot;)), aes(x=intervaltime, y=interval_avg_deviance, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8, 14, &amp; 20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Activity Counts (mean deviance)&quot;) +ylab(&quot;Activity Counts (mean deviance)&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
</div>
<div id="mean-activity-count-graphs-raw-mean-activity-not-deviance" class="section level2">
<h2>#MEAN ACTIVITY COUNT GRAPHS (raw mean activity, not deviance)</h2>
<p>INDIVIDUAL GRAPH OF RAW (MEAN) ACTIVITY COUNTS FOR 1 INDIVIDUAL PUPPY FOR 1 INDIVIDUAL WEEK</p>
<pre class="r"><code>#Arthur, 8 weeks
#can add ylim(-500,2500)
ggplot(subset(intervaldf,weeksold==&quot;8&quot; &amp; name==&quot;Sassy&quot;), aes(x=intervaltime, y=interval_avg_activity, group=1)) + geom_line() + ggtitle(&quot;Arthur: 8 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) +
  scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPH OF RAW (MEAN) ACTIVITY COUNTS GROUPED BY PUPPY) FOR 1 SPECIFIC WEEK</p>
<pre class="r"><code>ggplot(subset(intervaldf,weeksold==&quot;8&quot;), aes(x=intervaltime, y=interval_avg_activity, group=&#39;name&#39;)) + geom_line(aes(colour=name)) + ggtitle(&quot;Group Activity Counts: 8 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Puppy&quot;) + scale_x_discrete(breaks=hours_list)

ggplot(subset(intervaldf,weeksold==&quot;18&quot;), aes(x=intervaltime, y=interval_avg_activity, group=&#39;name&#39;)) + geom_line(aes(colour=name)) + ggtitle(&quot;Group Activity Counts: 18 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Puppy&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>COMPARE TWO PUPPIES’ RAW MEAN ACTIVITY COUNTS FOR 1 SPECIFIC WEEK</p>
<pre class="r"><code>###graph is now fixed!
ggplot(subset(intervaldf,name==&quot;Sassy&quot;&amp;weeksold==8|name==&quot;Arthur&quot;&amp;weeksold==8), aes(x=intervaltime, y=interval_avg_activity, group=name)) + geom_line(aes(colour=name)) + ggtitle(&quot;Mean Activity Counts: 8 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Puppy&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GROUP AVG OF RAW (MEAN) ACTIVITY COUNTS FOR 1 INDIVIDUAL WEEK</p>
<pre class="r"><code>#8 weeks
ggplot(subset(weeklyintervaldf,weeksold==&quot;8&quot;), aes(x=intervaltime, y=interval_weekly_avg, group=1)) + geom_line() + ggtitle(&quot;Group: 8 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)

#20 weeks
ggplot(subset(weeklyintervaldf,weeksold==&quot;20&quot;), aes(x=intervaltime, y=interval_weekly_avg, group=1)) + geom_line() + ggtitle(&quot;Group: 20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF ALL WEEKS OVERLAID (USING ENTIRE GROUP RAW MEAN ACTIVITY COUNTS)</p>
<pre class="r"><code>ggplot(weeklyintervaldf, aes(x=intervaltime, y=interval_weekly_avg, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8-20 weeks&quot;) + xlab(&quot;Time&quot;)+ ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF GROUP: 8 VS 20 WEEKS (RAW MEAN ACTIVITY COUNTS)</p>
<pre class="r"><code>ggplot((subset(weeklyintervaldf,weeksold==&quot;8&quot; | weeksold==&quot;20&quot;)), aes(x=intervaltime, y=interval_weekly_avg, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8 vs. 20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<p>GRAPHS OF GROUP: 8, 14, &amp; 20 WEEKS</p>
<pre class="r"><code>ggplot((subset(weeklyintervaldf,weeksold==&quot;8&quot; | weeksold==&quot;14&quot;| weeksold==&quot;20&quot;)), aes(x=intervaltime, y=interval_weekly_avg, group=weeksold)) + geom_line(aes(colour=weeksold)) + ggtitle(&quot;Group: 8, 14, &amp; 20 weeks&quot;) + xlab(&quot;Time&quot;) + ylab(&quot;Mean Activity Counts&quot;) + labs(colour = &quot;Age (weeks)&quot;) + scale_x_discrete(breaks=hours_list)</code></pre>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th>#CALCULATE SLEEP BOUTS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rest/wake thresholds</td>
</tr>
<tr class="even">
<td>```r #set threshold for sleeping/awake sleepbouts&lt;-indiv_weekly_dev %&gt;% mutate(state=case_when(interval_avg_activity &gt;= 100 ~ “awake”,interval_avg_activity &lt;100 ~ “rest”))</td>
</tr>
<tr class="odd">
<td>sleepbouts_200&lt;-indiv_weekly_dev %&gt;% mutate(state=case_when(interval_avg_activity &gt;= 100 ~ “awake”,interval_avg_activity &lt;100 ~ “rest”))</td>
</tr>
<tr class="even">
<td>#make column for interval end time library(lubridate) sleepbouts &lt;-sleepbouts %&gt;% mutate(intervaltime2=as.POSIXct(intervaltime, format=“%H:%M”)) sleepbouts &lt;-sleepbouts %&gt;% mutate(intervalend=(intervaltime2+(5*60))) sleepbouts &lt;-sleepbouts %&gt;% mutate(intervalend=strftime(intervalend, format=“%H:%M”)) sleepbouts &lt;-sleepbouts %&gt;% select(-intervaltime2)</td>
</tr>
<tr class="odd">
<td>#assign group numbers to unique sleep periods sleepbouts&lt;-sleepbouts %&gt;% mutate(timeperiod = hm(intervaltime), timeperiod_end = hm(intervalend)) %&gt;% group_by(name,weeksold) %&gt;% arrange(intervaltime) %&gt;% mutate (group = data.table::rleid(state))</td>
</tr>
<tr class="even">
<td>#threshold = 200 sleepbouts_200&lt;-indiv_weekly_dev %&gt;% mutate(state=case_when(interval_avg_activity &gt;= 200 ~ “awake”,interval_avg_activity &lt;200 ~ “rest”)) sleepbouts_200 &lt;-sleepbouts_200 %&gt;% mutate(intervaltime2=as.POSIXct(intervaltime, format=“%H:%M”)) sleepbouts_200 &lt;-sleepbouts_200 %&gt;% mutate(intervalend=(intervaltime2+(5*60))) sleepbouts_200 &lt;-sleepbouts_200 %&gt;% mutate(intervalend=strftime(intervalend, format=“%H:%M”)) sleepbouts_200 &lt;-sleepbouts_200 %&gt;% select(-intervaltime2) sleepbouts_200&lt;-sleepbouts_200 %&gt;% mutate(timeperiod = hm(intervaltime), timeperiod_end = hm(intervalend)) %&gt;% group_by(name,weeksold) %&gt;% arrange(intervaltime) %&gt;% mutate (group = data.table::rleid(state))</td>
</tr>
<tr class="odd">
<td>view(sleepbouts) ```</td>
</tr>
<tr class="even">
<td>Intervals of resting and wakefulness</td>
</tr>
<tr class="odd">
<td>```r sleepbout_intervals&lt;-sleepbouts %&gt;% group_by(name,weeksold,group) %&gt;% summarise(intervaltime = paste(first(intervaltime), last(intervalend), sep = ‘-’), state = first(state), timeperiod = last(timeperiod_end) - first(timeperiod))</td>
</tr>
<tr class="even">
<td>#Convert timeperiod class to minutes library(lubridate) sleepbout_intervals&lt;-sleepbout_intervals %&gt;% mutate(timeperiod_secs=time_length(timeperiod), timeperiod_mins=timeperiod_secs/60) %&gt;% select(-timeperiod_secs)</td>
</tr>
<tr class="odd">
<td>view(sleepbout_intervals)</td>
</tr>
<tr class="even">
<td>#Find average &amp; total length of rest vs awake states for each week sleepbout_weeklyavg &lt;- sleepbout_intervals %&gt;% group_by(weeksold,state) %&gt;% summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins)) view(sleepbout_weeklyavg) ```</td>
</tr>
<tr class="odd">
<td>Calculate rest/wake duration (avg and total) for each puppy for each week, add rearing &amp; sex info</td>
</tr>
<tr class="even">
<td>```r sleepbout_weeklyavg_bypuppy &lt;- sleepbout_intervals %&gt;% group_by(weeksold,name,state) %&gt;% summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins))</td>
</tr>
<tr class="odd">
<td>sleepbout_weeklyavg_bypuppy<span class="math inline">\(weeksold&lt;-as.character(sleepbout_weeklyavg_bypuppy\)</span>weeksold) sleepbout_weeklyavg_bypuppy&lt;-sleepbout_weeklyavg_bypuppy %&gt;% mutate(rearing = sleepbout_weeklyavg_bypuppy2<span class="math inline">\(weeksold&lt;-as.character(sleepbout_weeklyavg_bypuppy2\)</span>weeksold) sleepbout_weeklyavg_bypuppy2&lt;-sleepbout_weeklyavg_bypuppy2 %&gt;% mutate(rearing = case_when(name == “Anya” ~ “DPK”, name == “Aries” ~ “DPK”, name == “Weston” ~ “DPK”, name == “Ying” ~ “DPK”, name == “Yolanda” ~ “DPK”, name == “Zina” ~ “DPK”, name == “Zax” ~ “DPK”, (name == “Arthur” &amp; weeksold &lt;10) ~ “home”, (name == “Arthur” &amp; weeksold ==10) ~ “DPK”, (name == “Arthur” &amp; weeksold &gt;10) ~ “DPK”, (name == “Aurora” &amp; weeksold &lt;10) ~ “home”, (name == “Aurora” &amp; weeksold ==10) ~ “DPK”, (name == “Aurora” &amp; weeksold &gt;10) ~ “DPK”, (name == “Westley” &amp; weeksold &lt;10) ~ “home”, (name == “Westley” &amp; weeksold ==10) ~ “DPK”, (name == “Westley” &amp; weeksold &gt;10) ~ “DPK”, (name == “Wisdom” &amp; weeksold &lt;10) ~ “home”, (name == “Wisdom” &amp; weeksold ==10) ~ “DPK”, (name == “Wisdom” &amp; weeksold &gt;10) ~ “DPK”, (name == “Yonder” &amp; weeksold &lt;10) ~ “home”, (name == “Yonder” &amp; weeksold ==10) ~ “DPK”, (name == “Yonder” &amp; weeksold &gt;10) ~ “DPK”, (name == “Zindel” &amp; weeksold &lt;10) ~ “home”, (name == “Zindel” &amp; weeksold ==10) ~ “DPK”, (name == “Zindel” &amp; weeksold &gt;10) ~ “DPK”, (name == “Zola” &amp; weeksold &lt;10) ~ “home”, (name == “Zola” &amp; weeksold ==10) ~ “DPK”, (name == “Aurora” &amp; weeksold &gt;10) ~ “DPK”, name == “Kristoff” ~ “home”, name == “Barley” ~ “home”, name == “Rainbow” ~ “home”, name == “Sassy” ~ “home”, name == “Sparky” ~ “home”, name == “Stanley” ~ “home”, name == “Lily” ~ “home”, name == “Leo” ~ “home”, name == “Jack” ~ “home”), sex=case_when(name == “Anya” ~ “F”, name == “Aries” ~ “M”, name == “Weston” ~ “M”, name == “Ying” ~ “M”, name == “Yolanda” ~ “F”, name == “Zina” ~ “F”, name == “Zax” ~ “M”, name == “Arthur” ~ “M”, name == “Aurora” ~ “F”, name == “Westley” ~ “M”, name == “Wisdom” ~ “F”, name == “Yonder” ~ “F”, name == “Zola” ~ “F”, name == “Zindel” ~ “M”, name == “Kristoff” ~ “M”, name == “Barley” ~ “M”, name == “Rainbow” ~ “F”, name == “Sassy” ~ “F”, name == “Sparky” ~ “M”, name == “Stanley” ~ “M”, name == “Lily” ~ “F”, name == “Leo” ~ “M”, name == “Jack” ~ “M”)) sleepbout_weeklyavg_bypuppy<span class="math inline">\(weeksold&lt;-as.numeric(as.character(sleepbout_weeklyavg_bypuppy\)</span>weeksold))</td>
</tr>
<tr class="even">
<td>view(sleepbout_weeklyavg_bypuppy) ``` Compare home vs. DPK pups</td>
</tr>
<tr class="odd">
<td><code>r sleepbout_weeklyavg_rearing &lt;- sleepbout_weeklyavg_bypuppy %&gt;% group_by(weeksold,state,rearing) %&gt;% summarize(Mean_mins=mean(Mean_mins), N=n(),Total_mins=sum(Total_mins)) sleepbout_weeklyavg_rearing$weeksold&lt;-as.numeric(as.character(sleepbout_weeklyavg_rearing$weeksold))</code></td>
</tr>
<tr class="even">
<td>Without collapsing across days:</td>
</tr>
<tr class="odd">
<td>```r #set threshold for sleeping/awake sleepbouts2&lt;-intervaldf2 %&gt;% mutate(state=case_when(interval_avg_activity &gt;= 100 ~ “awake”,interval_avg_activity &lt;100 ~ “rest”))</td>
</tr>
<tr class="even">
<td>#make column for interval end time library(lubridate) sleepbouts2 &lt;-sleepbouts2 %&gt;% mutate(intervaltime2=as.POSIXct(intervaltime, format=“%H:%M”)) sleepbouts2 &lt;-sleepbouts2 %&gt;% mutate(intervalend=(intervaltime2+(5*60))) sleepbouts2 &lt;-sleepbouts2 %&gt;% mutate(intervalend=strftime(intervalend, format=“%H:%M”)) sleepbouts2 &lt;-sleepbouts2 %&gt;% select(-intervaltime2)</td>
</tr>
<tr class="odd">
<td>#assign group numbers to unique sleep periods sleepbouts2&lt;-sleepbouts2 %&gt;% mutate(timeperiod = hm(intervaltime), timeperiod_end = hm(intervalend)) %&gt;% group_by(name,weeksold) %&gt;% arrange(Date,name, intervaltime) %&gt;% mutate (group = data.table::rleid(state))</td>
</tr>
<tr class="even">
<td>view(sleepbouts2)</td>
</tr>
<tr class="odd">
<td>#Intervals of resting and wakefulness for each <strong>DAY</strong> sleepbout_intervals2&lt;-sleepbouts2 %&gt;% group_by(name,Date,weeksold,group) %&gt;% summarise(intervaltime = paste(first(intervaltime), last(intervalend), sep = ‘-’), state = first(state), timeperiod = last(timeperiod_end) - first(timeperiod))</td>
</tr>
<tr class="even">
<td>library(lubridate) sleepbout_intervals2&lt;-sleepbout_intervals2 %&gt;% mutate(timeperiod_secs=time_length(timeperiod), timeperiod_mins=timeperiod_secs/60) %&gt;% select(-timeperiod_secs) ####start here #collapse to get average in each interval per week sleepbout_intervals2_collapsed_bypuppy&lt;-sleepbout_intervals2 %&gt;% group_by(weeksold,name,intervaltime,state) %&gt;%summarise(interval_avg_activity=mean(timeperiod_mins))</td>
</tr>
<tr class="odd">
<td>sleepbout_intervals2_collapsed&lt;-sleepbout_intervals2 %&gt;% group_by(weeksold,intervaltime,state) %&gt;%summarise(interval_avg_activity=mean(timeperiod_mins))</td>
</tr>
<tr class="even">
<td>sleepbout_weeklyavg2 &lt;- sleepbout_intervals2 %&gt;% group_by(weeksold,state) %&gt;% summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins))</td>
</tr>
<tr class="odd">
<td>sleepbout_weeklyavg_bypuppy2 &lt;- sleepbout_intervals2 %&gt;% group_by(weeksold,name,state) %&gt;% summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins))</td>
</tr>
<tr class="even">
<td>sleepbout_weeklyavg_bypuppy2<span class="math inline">\(weeksold&lt;-as.character(sleepbout_weeklyavg_bypuppy2\)</span>weeksold) sleepbout_weeklyavg_bypuppy2&lt;-sleepbout_weeklyavg_bypuppy2 %&gt;% mutate(rearing = case_when(name == “Anya” ~ “DPK”, name == “Aries” ~ “DPK”, name == “Weston” ~ “DPK”, name == “Ying” ~ “DPK”, name == “Yolanda” ~ “DPK”, name == “Zina” ~ “DPK”, name == “Zax” ~ “DPK”, (name == “Arthur” &amp; weeksold &lt;10) ~ “home”, (name == “Arthur” &amp; weeksold ==10) ~ “DPK”, (name == “Arthur” &amp; weeksold &gt;10) ~ “DPK”, (name == “Aurora” &amp; weeksold &lt;10) ~ “home”, (name == “Aurora” &amp; weeksold ==10) ~ “DPK”, (name == “Aurora” &amp; weeksold &gt;10) ~ “DPK”, (name == “Westley” &amp; weeksold &lt;10) ~ “home”, (name == “Westley” &amp; weeksold ==10) ~ “DPK”, (name == “Westley” &amp; weeksold &gt;10) ~ “DPK”, (name == “Wisdom” &amp; weeksold &lt;10) ~ “home”, (name == “Wisdom” &amp; weeksold ==10) ~ “DPK”, (name == “Wisdom” &amp; weeksold &gt;10) ~ “DPK”, (name == “Yonder” &amp; weeksold &lt;10) ~ “home”, (name == “Yonder” &amp; weeksold ==10) ~ “DPK”, (name == “Yonder” &amp; weeksold &gt;10) ~ “DPK”, (name == “Zindel” &amp; weeksold &lt;10) ~ “home”, (name == “Zindel” &amp; weeksold ==10) ~ “DPK”, (name == “Zindel” &amp; weeksold &gt;10) ~ “DPK”, (name == “Zola” &amp; weeksold &lt;10) ~ “home”, (name == “Zola” &amp; weeksold ==10) ~ “DPK”, (name == “Aurora” &amp; weeksold &gt;10) ~ “DPK”, name == “Kristoff” ~ “home”, name == “Barley” ~ “home”, name == “Rainbow” ~ “home”, name == “Sassy” ~ “home”, name == “Sparky” ~ “home”, name == “Stanley” ~ “home”, name == “Lily” ~ “home”, name == “Leo” ~ “home”, name == “Jack” ~ “home”), sex=case_when(name == “Anya” ~ “F”, name == “Aries” ~ “M”, name == “Weston” ~ “M”, name == “Ying” ~ “M”, name == “Yolanda” ~ “F”, name == “Zina” ~ “F”, name == “Zax” ~ “M”, name == “Arthur” ~ “M”, name == “Aurora” ~ “F”, name == “Westley” ~ “M”, name == “Wisdom” ~ “F”, name == “Yonder” ~ “F”, name == “Zola” ~ “F”, name == “Zindel” ~ “M”, name == “Kristoff” ~ “M”, name == “Barley” ~ “M”, name == “Rainbow” ~ “F”, name == “Sassy” ~ “F”, name == “Sparky” ~ “M”, name == “Stanley” ~ “M”, name == “Lily” ~ “F”, name == “Leo” ~ “M”, name == “Jack” ~ “M”)) sleepbout_weeklyavg_bypuppy2<span class="math inline">\(weeksold&lt;-as.numeric(as.character(sleepbout_weeklyavg_bypuppy2\)</span>weeksold))</td>
</tr>
<tr class="odd">
<td>#Compare home vs. DPK pups sleepbout_weeklyavg_rearing2 &lt;- sleepbout_weeklyavg_bypuppy2 %&gt;% group_by(weeksold,state,rearing) %&gt;% summarize(Mean_mins=mean(Mean_mins), N=n(),Total_mins=sum(Total_mins)) sleepbout_weeklyavg_rearing<span class="math inline">\(weeksold&lt;-as.numeric(as.character(sleepbout_weeklyavg_rearing2\)</span>weeksold)) ```</td>
</tr>
<tr class="even">
<td>Threshold = 200, without collapsing across days</td>
</tr>
</tbody>
</table>
<pre class="r"><code>#threshold = 200
sleepbouts_200_full&lt;-intervaldf2 %&gt;% mutate(state=case_when(interval_avg_activity &gt;= 200 ~ &quot;awake&quot;,interval_avg_activity &lt;200 ~ &quot;rest&quot;))
sleepbouts_200_full &lt;-sleepbouts_200_full %&gt;% mutate(intervaltime2=as.POSIXct(intervaltime, format=&quot;%H:%M&quot;))
sleepbouts_200_full &lt;-sleepbouts_200_full %&gt;% mutate(intervalend=(intervaltime2+(5*60)))
sleepbouts_200_full &lt;-sleepbouts_200_full %&gt;% mutate(intervalend=strftime(intervalend, format=&quot;%H:%M&quot;)) 
sleepbouts_200_full &lt;-sleepbouts_200_full %&gt;% select(-intervaltime2)
sleepbouts_200_full&lt;-sleepbouts_200_full %&gt;% 
  mutate(timeperiod = hm(intervaltime),
         timeperiod_end = hm(intervalend)) %&gt;%
  group_by(name,weeksold) %&gt;% 
  arrange(intervaltime) %&gt;% 
  mutate (group = data.table::rleid(state))

#Intervals of resting and wakefulness for each **DAY**
sleepbout_intervals_full_200&lt;-sleepbouts_200_full %&gt;% 
  group_by(name,Date,weeksold,group) %&gt;% 
  summarise(intervaltime = paste(first(intervaltime), last(intervalend), sep = &#39;-&#39;), 
            state = first(state), 
            timeperiod = last(timeperiod_end) - first(timeperiod))

library(lubridate)
sleepbout_intervals_full_200&lt;-sleepbout_intervals_full_200 %&gt;% mutate(timeperiod_secs=time_length(timeperiod),
                                     timeperiod_mins=timeperiod_secs/60) %&gt;% select(-timeperiod_secs)

#collapse to get average in each interval per week
sleepbout_intervals_200_collapsed_bypuppy&lt;-sleepbout_intervals_full_200 %&gt;% group_by(weeksold,name,intervaltime,state) %&gt;%summarise(interval_avg_activity=mean(timeperiod_mins))

sleepbout_intervals_200_collapsed&lt;-sleepbout_intervals_full_200 %&gt;% group_by(weeksold,intervaltime,state) %&gt;%summarise(interval_avg_activity=mean(timeperiod_mins))

#here

sleepbout_weeklyavg_full_200 &lt;- sleepbout_intervals_200_collapsed %&gt;% group_by(weeksold,state) %&gt;%
  summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins))

sleepbout_weeklyavg_bypuppy_full_200 &lt;- sleepbout_intervals_200_collapsed %&gt;% group_by(weeksold,name,state) %&gt;% 
  summarize(Mean_mins=mean(timeperiod_mins), N=n(),Total_mins=sum(timeperiod_mins))

sleepbout_intervals_200_collapsed_bypuppy$weeksold&lt;-as.character(sleepbout_intervals_200_collapsed_bypuppy$weeksold)
sleepbout_intervals_200_collapsed_bypuppy&lt;-sleepbout_intervals_200_collapsed_bypuppy %&gt;% mutate(rearing =
                          case_when(name == &quot;Anya&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Aries&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Weston&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Ying&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Yolanda&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zina&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Zax&quot; ~ &quot;DPK&quot;,
                                    name == &quot;Arthur&quot; &amp; weeksold &lt;10 ~ &quot;home&quot;,
                                    name == &quot;Arthur&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Arthur&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Aurora&quot; &amp; weeksold &lt;10  ~ &quot;home&quot;,
                                    name == &quot;Aurora&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Aurora&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Westley&quot; &amp; weeksold &lt;10 ~ &quot;home&quot;,
                                    name == &quot;Westley&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Westley&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Wisdom&quot; &amp; weeksold &lt;10  ~ &quot;home&quot;,
                                    name == &quot;Wisdom&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Wisdom&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Yonder&quot; &amp; weeksold &lt;10  ~ &quot;home&quot;,
                                    name == &quot;Yonder&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Yonder&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Zindel&quot; &amp; weeksold &lt;10  ~ &quot;home&quot;,
                                    name == &quot;Zindel&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Zindel&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Zola&quot; &amp; weeksold &lt;10  ~ &quot;home&quot;,
                                    name == &quot;Zola&quot; &amp; weeksold ==10 ~ &quot;DPK&quot;,
                                    name == &quot;Aurora&quot; &amp; weeksold &gt;10 ~ &quot;DPK&quot;,
                                    name == &quot;Kristoff&quot; ~ &quot;home&quot;,
                                    name == &quot;Barley&quot; ~ &quot;home&quot;,
                                    name == &quot;Rainbow&quot; ~ &quot;home&quot;,
                                    name == &quot;Sassy&quot; ~ &quot;home&quot;,
                                    name == &quot;Sparky&quot; ~ &quot;home&quot;,
                                    name == &quot;Stanley&quot; ~ &quot;home&quot;,
                                    name == &quot;Lily&quot; ~ &quot;home&quot;,
                                    name == &quot;Leo&quot; ~ &quot;home&quot;,
                                    name == &quot;Jack&quot; ~ &quot;home&quot;),
                          sex=case_when(name == &quot;Anya&quot; ~ &quot;F&quot;,
                                    name == &quot;Aries&quot; ~ &quot;M&quot;,
                                    name == &quot;Weston&quot; ~ &quot;M&quot;,
                                    name == &quot;Ying&quot; ~ &quot;M&quot;,
                                    name == &quot;Yolanda&quot; ~ &quot;F&quot;,
                                    name == &quot;Zina&quot; ~ &quot;F&quot;,
                                    name == &quot;Zax&quot; ~ &quot;M&quot;,
                                    name == &quot;Arthur&quot; ~ &quot;M&quot;,
                                    name == &quot;Aurora&quot; ~ &quot;F&quot;,
                                    name == &quot;Westley&quot; ~ &quot;M&quot;,
                                    name == &quot;Wisdom&quot; ~ &quot;F&quot;,
                                    name == &quot;Yonder&quot; ~ &quot;F&quot;,
                                    name == &quot;Zola&quot; ~ &quot;F&quot;,
                                    name == &quot;Zindel&quot; ~ &quot;M&quot;,
                                    name == &quot;Kristoff&quot; ~ &quot;M&quot;,
                                    name == &quot;Barley&quot; ~ &quot;M&quot;,
                                    name == &quot;Rainbow&quot; ~ &quot;F&quot;,
                                    name == &quot;Sassy&quot; ~ &quot;F&quot;,
                                    name == &quot;Sparky&quot; ~ &quot;M&quot;,
                                    name == &quot;Stanley&quot; ~ &quot;M&quot;,
                                    name == &quot;Lily&quot; ~ &quot;F&quot;,
                                    name == &quot;Leo&quot; ~ &quot;M&quot;,
                                    name == &quot;Jack&quot; ~ &quot;M&quot;))
sleepbout_intervals_200_collapsed_bypuppy$weeksold&lt;-as.numeric(as.character(sleepbout_intervals_200_collapsed_bypuppy$weeksold))

#Compare home vs. DPK pups
sleepbout_weeklyavg_rearing_full_200 &lt;- sleepbout_weeklyavg_bypuppy_full_200 %&gt;% group_by(weeksold,state,rearing) %&gt;% summarize(Mean_mins=mean(Mean_mins), N=n(),Total_mins=sum(Total_mins)) 
sleepbout_weeklyavg_rearing_full_200$weeksold&lt;-as.numeric(as.character(sleepbout_weeklyavg_rearing_full_200$weeksold))</code></pre>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th>#PLOTTING REST/WAKE BOUTS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>#FOR GROUP Compare average rest/wake bout durations in 1 individual week</td>
</tr>
<tr class="even">
<td><code>r ggplot(subset(sleepbout_weeklyavg,weeksold=="20"), aes(x=state, y=Mean_mins))+ geom_col(aes(fill=state)) + ggtitle("Average Sleep/Awake Bout Duration: 20 weeks") + xlab("State")+ ylab("Mean State Duration (min)") + labs(colour = "State")</code> Compare average rest/awake bout durations for each week</td>
</tr>
<tr class="odd">
<td>```r ggplot(subset(sleepbout_weeklyavg,state==“awake”), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=weeksold)) + ggtitle(“Avg Duration of Awake Bouts by Week”) + xlab(“Weeks Old”)+ ylab(“Mean State Duration (min)”) + labs(colour = “Age (weeks)”)</td>
</tr>
<tr class="even">
<td>ggplot(subset(sleepbout_weeklyavg,state==“rest”), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=weeksold)) + ggtitle(“Avg Duration of Rest Bouts by Week”) + xlab(“Weeks Old”)+ ylab(“Mean State Duration (min)”) + labs(colour = “Age (weeks)”) ``` Total Minutes of Rest by Week</td>
</tr>
<tr class="odd">
<td><code>r ggplot(subset(sleepbout_weeklyavg,state=="rest"), aes(x=weeksold, y=Total_mins))+ geom_col(aes(fill=weeksold)) + ggtitle("Average Total Rest by Week") + xlab("Weeks Old")+ ylab("Total Rest (min)") + labs(colour = "Age (weeks)")</code> AVG REST HOME VS. DPK</td>
</tr>
<tr class="even">
<td>```r weeks&lt;-c(8:20)</td>
</tr>
<tr class="odd">
<td>ggplot(subset(sleepbout_weeklyavg_rearing,state==“rest”), aes(x=weeksold, y=Mean_mins, colour=rearing, group=rearing)) + geom_point() + geom_line() + ggtitle(“Avg Duration of Rest Bouts by Week: Home vs. DPK”) + xlab(“Weeks Old”)+ ylab(“Avg State Duration (min)”) + labs(colour = “Rearing”) + scale_x_continuous(breaks=weeks)</td>
</tr>
<tr class="even">
<td>ggplot(subset(sleepbout_weeklyavg_rearing,state==“rest”), aes(x=weeksold, y=Total_mins, colour=rearing, group=rearing)) + geom_point() + geom_line() + ggtitle(“Average Total Rest by Week: Home vs. DPK”) + xlab(“Weeks Old”)+ ylab(“Rest (mins)”) + labs(colour = “Rearing”) + scale_x_continuous(breaks=weeks) ```</td>
</tr>
<tr class="odd">
<td>#FOR GROUP WITHOUT COLLAPSING FIRST,threshold = 100</td>
</tr>
</tbody>
</table>
<p>Compare average rest/wake bout durations in 1 individual week</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg2,weeksold==&quot;20&quot;), aes(x=state, y=Mean_mins))+ geom_col(aes(fill=state)) + ggtitle(&quot;Average Sleep/Awake Bout Duration: 20 weeks&quot;) + xlab(&quot;State&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;State&quot;)</code></pre>
<p>Compare average rest/awake bout durations for each week</p>
<pre class="r"><code>sleepbout_weeklyavg2$weeksold&lt;-as.factor(sleepbout_weeklyavg2$weeksold)
ggplot(subset(sleepbout_weeklyavg2,state==&quot;awake&quot;), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=weeksold)) + ggtitle(&quot;Avg Duration of Awake Bouts by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)

ggplot(subset(sleepbout_weeklyavg2,state==&quot;rest&quot;), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=weeksold)) + ggtitle(&quot;Avg Duration of Rest Bouts by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)</code></pre>
<p>Total Minutes of Rest by Week</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg2,state==&quot;rest&quot;), aes(x=weeksold, y=Total_mins))+ geom_col(aes(fill=weeksold)) + ggtitle(&quot;Average Total Rest by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Total Rest (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)</code></pre>
<p>AVG REST HOME VS. DPK</p>
<pre class="r"><code>weeks&lt;-c(8:20)

ggplot(subset(sleepbout_weeklyavg_rearing2,state==&quot;rest&quot;), aes(x=weeksold, y=Mean_mins, colour=rearing, group=rearing)) + geom_point() + geom_line() + ggtitle(&quot;Avg Duration of Rest Bouts by Week: Home vs. DPK&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Avg State Duration (min)&quot;) + labs(colour = &quot;Rearing&quot;) + scale_x_continuous(breaks=weeks)

ggplot(subset(sleepbout_weeklyavg_rearing2,state==&quot;rest&quot;), aes(x=weeksold, y=Total_mins, colour=rearing, group=rearing)) + geom_point() + geom_line() + ggtitle(&quot;Average Total Rest by Week: Home vs. DPK&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Rest (mins)&quot;) + labs(colour = &quot;Rearing&quot;) + scale_x_continuous(breaks=weeks)</code></pre>
</div>
<div id="by-puppy" class="section level2">
<h2>#BY PUPPY</h2>
<p>Bar graph: Mean State Duration for 1 puppy by weeks</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy, name==&quot;Leo&quot;), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=state)) + ggtitle(&quot;Leo: Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
<p>Line graph: Mean State Duration for 1 puppy by weeks</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy, name==&quot;Leo&quot;), aes(x=weeksold, y=Mean_mins, group=state))+ geom_line(aes(colour=state)) + ggtitle(&quot;Leo: Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
<p>Line graph: mean rest state duration by week for each puppy</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy, state==&quot;rest&quot;), aes(x=weeksold, y=Mean_mins, group=name))+ geom_line(aes(colour=name)) + ggtitle(&quot;Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
</div>
<div id="by-puppy-without-collapsing-first-threshold-100" class="section level2">
<h2>#BY PUPPY WITHOUT COLLAPSING FIRST, threshold = 100</h2>
<p>Bar graph: Mean State Duration for 1 puppy by weeks</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy2, name==&quot;Leo&quot;), aes(x=weeksold, y=Mean_mins))+ geom_col(aes(fill=state)) + ggtitle(&quot;Leo: Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
<p>Line graph: Mean State Duration for 1 puppy by weeks</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy2, name==&quot;Leo&quot;), aes(x=weeksold, y=Mean_mins, group=state))+ geom_line(aes(colour=state)) + ggtitle(&quot;Leo: Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
<p>Line graph: mean rest state duration by week for each puppy</p>
<pre class="r"><code>ggplot(subset(sleepbout_weeklyavg_bypuppy2, state==&quot;rest&quot;), aes(x=weeksold, y=Mean_mins, group=name))+ geom_line(aes(colour=name)) + ggtitle(&quot;Mean Rest State Duration by Week&quot;) + xlab(&quot;Weeks Old&quot;)+ ylab(&quot;Mean State Duration (min)&quot;) + labs(colour = &quot;Age (weeks)&quot;)+ scale_x_continuous(breaks=weeks)</code></pre>
</div>
<div id="export" class="section level2">
<h2>#EXPORT</h2>
<p>EXPORT dfs individually</p>
<p>EXPORT dfs as sheets on one doc</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
